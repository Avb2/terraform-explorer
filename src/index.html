<!-- index.html (fragment; includes modular scripts) -->
<style>
  #tf-explorer-sidebar {
    position: fixed; top: 0; right: 0; width: 400px; height: 100%;
    background: #ffffff; border-left: 2px solid #333; z-index: 100000;
    padding: 15px; font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
    font-size: 16px; color: #333; overflow-y: auto; box-shadow: -2px 0 5px rgba(0,0,0,0.1);
  }
  #tf-explorer-sidebar h3 { margin: 0 0 15px; font-size: 20px; font-weight: 700; color: #007bff; }
  #tf-graph { width: 100%; height: 400px; border: 2px solid #ddd; margin-bottom: 15px; background: #fafafa; border-radius: 8px; position: relative; }
  .tf-section { margin-bottom: 20px; }
  .tf-section h4 { margin: 0 0 10px; font-size: 18px; color: #007bff; }
  .tf-section ul { list-style: none; padding: 0; margin: 0; }
  .tf-section li { margin: 8px 0; font-size: 16px; }
  .tf-section a { color: #007bff; text-decoration: none; font-weight: 500; cursor: pointer; }
  .tf-section a:hover { text-decoration: underline; color: #0056b3; }
  .tf-error { color: #d32f2f; font-size: 14px; font-weight: 500; }
  #tf-toggle-btn {
    position: fixed; top: 10px; right: 10px; background: #007bff; color: #fff; border: none;
    padding: 4px 6px; cursor: move; z-index: 100001; font-size: 12px; font-weight: 600; border-radius: 3px;
    transition: right 0.3s ease, opacity 0.3s ease, transform 0.2s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    user-select: none;
    min-width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  #tf-toggle-btn:hover { 
    background: #0056b3; 
    transform: scale(1.1);
  }
  #tf-toggle-btn.sidebar-open {
    right: 420px;
  }
  #tf-toggle-btn.hidden {
    opacity: 0.2;
    transform: scale(0.8);
  }
  #tf-toggle-btn.hidden:hover {
    opacity: 1;
    transform: scale(1.1);
  }
  #tf-toggle-btn.dragging {
    cursor: grabbing;
    transform: scale(1.2);
    z-index: 100002;
  }
</style>

<button id="tf-toggle-btn" title="Terraform Explorer (Right-click to hide, Drag to move)">TF</button>
<div id="tf-explorer-sidebar" style="display:none">
  <h3>Terraform Resource Explorer</h3>
  <div id="tf-graph"></div>
  <div id="tf-resources-section"></div>
  <div id="tf-modules-section"></div>
  <div id="tf-issues-section"></div>
</div>

<!-- Load modular JavaScript files in dependency order -->
<script src="js/globals.js"></script>
<script src="js/utils.js"></script>
<script src="js/parser.js"></script>
<script src="js/dependency.js"></script>
<script src="js/ui.js"></script>
<script src="js/graph.js"></script>
<script src="js/main.js"></script>
